import{f as k,a as _,c as ge}from"../chunks/Dt4gHaz-.js";import{i as xe}from"../chunks/B7C2RDV6.js";import{o as ye}from"../chunks/BttVn3x6.js";import{P as Me,X as W,V as e,Q as Re,f as ke,U as a,R as p,T as C,aa as Ee,Y as i,a0 as we,W as o,Z as X}from"../chunks/BKvKnRH6.js";import{s as h}from"../chunks/P7GjCC45.js";import{i as Z}from"../chunks/huJ-UwZ7.js";import{h as Te}from"../chunks/Cx4uNYAL.js";import{r as De,s as l}from"../chunks/4MGsfVRe.js";import{e as c}from"../chunks/AP3DqHb2.js";import{b as Ce}from"../chunks/BXpv_vPh.js";import{g as G}from"../chunks/BLcmlP_a.js";import{N as Le}from"../chunks/Z-a8_pAR.js";import{b as ee}from"../chunks/BEmnpJzO.js";var Ae=k('<meta name="description" content="Explore trending recipes, chef specials, healthy choices, quick bites and comfort food. Updated automatically from TheMealDB."/>'),Ie=k('<div class="loading-container"><div class="spinner"></div> <p class="loading-text">Loading delicious recipes...</p></div>'),Pe=k('<div class="error-container"><p class="error-text"> </p> <button class="retry-button">Retry</button></div>'),Se=k('<section class="recipies_feed"><div class="recipies_feed_container"><div id="main_recipie" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_one" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_two" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_three" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_four" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_five" role="button" tabindex="0"><img/> <h2> </h2></div></div></section>'),Ue=k('<!> <center><section class="search_recipies"><form class="search-form"><input type="search" name="search_bar" id="search_bar" placeholder="e.g., Lasagna, Pad Thai, Chocolate Cake..." required/> <button type="submit" id="search_button">Search</button></form></section></center> <!>',1);function Ne(L,re){Me(re,!1);const te="https://www.themealdb.com/api/json/v1/1/random.php",A="dashboard_random_recipes",ae=1800*1e3;let r=C([]),E=C(!0),w=C(null),T=C("");function oe(t){const s={meals:t,timestamp:Date.now()};try{sessionStorage.setItem(A,JSON.stringify(s))}catch(b){console.error("Error saving to cache:",b)}}function se(){try{const t=sessionStorage.getItem(A);if(!t)return null;const s=JSON.parse(t);return Date.now()-s.timestamp>ae?(sessionStorage.removeItem(A),null):s.meals}catch(t){return console.error("Error loading from cache:",t),null}}async function ie(){try{const t=await fetch(te);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json())?.meals?.[0]??null}catch(t){return console.error("Error fetching random meal:",t),null}}async function ce(t){const s=Array.from({length:t},()=>ie());return(await Promise.all(s)).filter(S=>S!==null)}ye(async()=>{const t=se();if(t&&t.length>0){p(r,t),p(E,!1);return}p(E,!0);try{p(r,await ce(6)),e(r).length===0?p(w,"Unable to load recipes. Please try again later."):oe(e(r))}catch(s){console.error(s),p(w,"A connection error occurred. Please refresh the page.")}finally{p(E,!1)}});function ne(t){t.preventDefault(),e(T).trim()&&G(`${ee}/recipes?q=${encodeURIComponent(e(T).trim())}`)}function n(t){G(`${ee}/recipes?q=${encodeURIComponent(t.strMeal)}`)}xe();var H=Ue();Te("1nuzzj3",t=>{var s=Ae();ke(()=>{Ee.title="Recipe Dashboard - Discover Random Delicious Meals"}),_(t,s)});var z=W(H);Le(z,{});var I=i(z,2),J=a(I),P=a(J),Q=a(P);De(Q),we(2),o(P),o(J),o(I);var le=i(I,2);{var de=t=>{var s=Ie();_(t,s)},pe=t=>{var s=ge(),b=W(s);{var S=u=>{var m=Pe(),f=a(m),v=a(f,!0);o(f);var g=i(f,2);o(m),X(()=>h(v,e(w))),c("click",g,()=>window.location.reload()),_(u,m)},me=u=>{var m=Se(),f=a(m),v=a(f),g=a(v),Y=i(g,2),ve=a(Y,!0);o(Y),o(v);var x=i(v,2),U=a(x),$=i(U,2),he=a($,!0);o($),o(x);var y=i(x,2),N=a(y),B=i(N,2),ue=a(B,!0);o(B),o(y);var M=i(y,2),q=a(M),F=i(q,2),fe=a(F,!0);o(F),o(M);var R=i(M,2),O=a(R),K=i(O,2),_e=a(K,!0);o(K),o(R);var D=i(R,2),j=a(D),V=i(j,2),be=a(V,!0);o(V),o(D),o(f),o(m),X(()=>{l(g,"src",e(r)[0]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(g,"alt",e(r)[0]?.strMeal??"Recipe"),h(ve,e(r)[0]?.strMeal??"Loading..."),l(U,"src",e(r)[1]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(U,"alt",e(r)[1]?.strMeal??"Recipe"),h(he,e(r)[1]?.strMeal??"Loading..."),l(N,"src",e(r)[2]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(N,"alt",e(r)[2]?.strMeal??"Recipe"),h(ue,e(r)[2]?.strMeal??"Loading..."),l(q,"src",e(r)[3]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(q,"alt",e(r)[3]?.strMeal??"Recipe"),h(fe,e(r)[3]?.strMeal??"Loading..."),l(O,"src",e(r)[4]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(O,"alt",e(r)[4]?.strMeal??"Recipe"),h(_e,e(r)[4]?.strMeal??"Loading..."),l(j,"src",e(r)[5]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(j,"alt",e(r)[5]?.strMeal??"Recipe"),h(be,e(r)[5]?.strMeal??"Loading...")}),c("click",v,()=>n(e(r)[0])),c("keypress",v,d=>d.key==="Enter"&&n(e(r)[0])),c("click",x,()=>n(e(r)[1])),c("keypress",x,d=>d.key==="Enter"&&n(e(r)[1])),c("click",y,()=>n(e(r)[2])),c("keypress",y,d=>d.key==="Enter"&&n(e(r)[2])),c("click",M,()=>n(e(r)[3])),c("keypress",M,d=>d.key==="Enter"&&n(e(r)[3])),c("click",R,()=>n(e(r)[4])),c("keypress",R,d=>d.key==="Enter"&&n(e(r)[4])),c("click",D,()=>n(e(r)[5])),c("keypress",D,d=>d.key==="Enter"&&n(e(r)[5])),_(u,m)};Z(b,u=>{e(w)?u(S):u(me,!1)},!0)}_(t,s)};Z(le,t=>{e(E)?t(de):t(pe,!1)})}Ce(Q,()=>e(T),t=>p(T,t)),c("submit",P,ne),_(L,H),Re()}function We(L){Ne(L,{})}export{We as component};
