import{d as Ae,e as Ve,f as L,a as E,w as Fe,c as Ce}from"../chunks/Dt4gHaz-.js";import{i as Ge}from"../chunks/B7C2RDV6.js";import{o as ze}from"../chunks/BttVn3x6.js";import{d as ve,h as U,g as ne,c as ge,n as we,b as We,V as n,aC as qe,o as Qe,v as Xe,w as Ie,s as pe,e as ae,C as Le,au as Je,ah as Ke,i as Ze,A as be,D as je,as as Oe,aD as ea,T as ee,ac as Ne,aE as aa,aF as ra,aG as ta,x as He,z as sa,aH as _e,a as Pe,aI as ia,aJ as na,ar as la,y as oa,Z as Y,O as ca,aK as va,av as da,ap as fa,P as ua,X as te,Q as ha,Y as p,R as O,U as f,W as v,a0 as pa}from"../chunks/BKvKnRH6.js";import{s as H}from"../chunks/P7GjCC45.js";import{i as se}from"../chunks/huJ-UwZ7.js";import{h as _a}from"../chunks/Cx4uNYAL.js";import{s as j}from"../chunks/4MGsfVRe.js";import{e as ie}from"../chunks/AP3DqHb2.js";import{N as ma}from"../chunks/H2XBM-OW.js";function De(a,e){return e}function ga(a,e,t){for(var m=[],g=e.length,o=0;o<g;o++)ia(e[o].e,m,!0);na(m,()=>{var r=m.length===0&&t!==null;if(r){var s=t,c=s.parentNode;la(c),c.append(s),a.items.clear(),S(a,e[0].prev,e[g-1].next)}for(var d=0;d<g;d++){var i=e[d];r||(a.items.delete(i.k),S(a,i.prev,i.next)),oa(i.e,!r)}a.first===e[0]&&(a.first=e[0].prev)})}function Se(a,e,t,m,g,o=null){var r=a,s=new Map,c=null;{var d=a;r=U?ve(ne(d)):d.appendChild(ge())}U&&we();var i=null,u=qe(()=>{var w=t();return ea(w)?w:w==null?[]:Oe(w)}),b,x=!0;function l(){wa(W,b,r,e,m),i!==null&&(b.length===0?(i.fragment?(r.before(i.fragment),i.fragment=null):He(i.effect),T.first=i.effect):sa(i.effect,()=>{i=null}))}var T=We(()=>{b=n(u);var w=b.length;let y=!1;if(U){var q=Qe(r)===Xe;q!==(w===0)&&(r=Ie(),ve(r),pe(!1),y=!0)}for(var h=new Set,_=Ze,M=null,I=je(),N=0;N<w;N+=1){U&&ae.nodeType===Le&&ae.data===Je&&(r=ae,y=!0,pe(!1));var D=b[N],R=m(D,N),k=x?null:s.get(R);k?(Ke(k.v,D),k.i=N,I&&_.skipped_effects.delete(k.e)):(k=ba(x?r:null,M,D,R,N,g,e,t),x&&(k.o=!0,M===null?c=k:M.next=k,M=k),s.set(R,k)),h.add(R)}if(w===0&&o&&!i)if(x)i={fragment:null,effect:be(()=>o(r))};else{var Q=document.createDocumentFragment(),le=ge();Q.append(le),i={fragment:Q,effect:be(()=>o(le))}}if(U&&w>0&&ve(Ie()),!x)if(I){for(const[P,B]of s)h.has(P)||_.skipped_effects.add(B.e);_.oncommit(l),_.ondiscard(()=>{})}else l();y&&pe(!0),n(u)}),W={effect:T,items:s,first:c};x=!1,U&&(r=ae)}function wa(a,e,t,m,g){var o=e.length,r=a.items,s=a.first,c,d=null,i=[],u=[],b,x,l,T;for(T=0;T<o;T+=1){if(b=e[T],x=g(b,T),l=r.get(x),a.first??=l,!l.o){l.o=!0;var W=d?d.next:s;S(a,d,l),S(a,l,W),me(l,W,t),d=l,i=[],u=[],s=d.next;continue}if((l.e.f&_e)!==0&&He(l.e),l!==s){if(c!==void 0&&c.has(l)){if(i.length<u.length){var w=u[0],y;d=w.prev;var q=i[0],h=i[i.length-1];for(y=0;y<i.length;y+=1)me(i[y],w,t);for(y=0;y<u.length;y+=1)c.delete(u[y]);S(a,q.prev,h.next),S(a,d,q),S(a,h,w),s=w,d=h,T-=1,i=[],u=[]}else c.delete(l),me(l,s,t),S(a,l.prev,l.next),S(a,l,d===null?a.first:d.next),S(a,d,l),d=l;continue}for(i=[],u=[];s!==null&&s.k!==x;)(s.e.f&_e)===0&&(c??=new Set).add(s),u.push(s),s=s.next;if(s===null)continue;l=s}i.push(l),d=l,s=l.next}if(s!==null||c!==void 0){for(var _=c===void 0?[]:Oe(c);s!==null;)(s.e.f&_e)===0&&_.push(s),s=s.next;var M=_.length;if(M>0){var I=o===0?t:null;ga(a,_,I)}}}function ba(a,e,t,m,g,o,r,s){var c=(r&ra)!==0,d=(r&ta)===0,i=c?d?ee(t,!1,!1):Ne(t):t,u=(r&aa)===0?g:Ne(g),b={i:u,v:i,k:m,a:null,e:null,o:!1,prev:e,next:null};try{if(a===null){var x=document.createDocumentFragment();x.append(a=ge())}return b.e=be(()=>o(a,i,u,s)),e!==null&&(e.next=b),b}finally{}}function me(a,e,t){for(var m=a.next?a.next.e.nodes_start:t,g=e?e.e.nodes_start:t,o=a.e.nodes_start;o!==null&&o!==m;){var r=Pe(o);g.before(o),o=r}}function S(a,e,t){e===null?(a.first=t,a.effect.first=t&&t.e):(e.e.next&&(e.e.next.prev=null),e.next=t,e.e.next=t&&t.e),t===null?a.effect.last=e&&e.e:(t.e.prev&&(t.e.prev.next=null),t.prev=e,t.e.prev=e&&e.e)}function xa(a,e,t=!1,m=!1,g=!1){var o=a,r="";Y(()=>{var s=ca;if(r===(r=e()??"")){U&&we();return}if(s.nodes_start!==null&&(va(s.nodes_start,s.nodes_end),s.nodes_start=s.nodes_end=null),r!==""){if(U){ae.data;for(var c=we(),d=c;c!==null&&(c.nodeType!==Le||c.data!=="");)d=c,c=Pe(c);if(c===null)throw da(),fa;Ae(ae,d),o=ve(c);return}var i=r+"";t?i=`<svg>${i}</svg>`:m&&(i=`<math>${i}</math>`);var u=Ve(i);if((t||m)&&(u=ne(u)),Ae(ne(u),u.lastChild),t||m)for(;ne(u);)o.before(ne(u));else o.before(u)}})}const ka="https://www.themealdb.com/api/json/v1/1/search.php?s=";async function ya(a){if(!a)return[];try{const e=await fetch(`${ka}${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return(await e.json())?.meals??[]}catch(e){throw console.error("Error fetching recipes:",e),e}}var Ma=Fe(L(`<script src="https://cdn.tailwindcss.com">
    {
        theme: {
            extend: {
                colors: {
                    'theme-gold': '#8b6f2f',
                    'theme-error': '#c75a5a'
                },
            }
        }
    }
	<\/script><!>`,1)),Ta=L('<div class="loading-box"><div class="spinner"></div> <p class="loading-text">Searching the global kitchen...</p></div>'),Ea=L('<div class="error-alert" role="alert"><p class="error-title">Oops! Something went wrong.</p> <p> </p></div>'),Ra=L('<a target="_blank" class="source-link">View Original Source</a>'),Aa=L('<a target="_blank" class="youtube-link">Watch Video Guide</a>'),Ca=L('<li class="ingredient-item"><svg xmlns="http://www.w3.org/2000/svg" class="ingredient-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> <span class="ingredient-measure"> <span class="ingredient-name"> </span></span></li>'),Ia=L('<div class="recipe-detail-box"><div class="back-button-bar"><button class="back-button"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-4 h-4 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path></svg> Back to Results</button></div> <div class="recipe-image-wrap"><img class="recipe-image"/> <div class="image-overlay"></div> <h2 class="recipe-name"> </h2></div> <div class="recipe-content-grid"><div class="details-section"><h3 class="section-title">Details</h3> <div class="detail-list"><p><span class="detail-label">Category:</span> </p> <p><span class="detail-label">Cuisine:</span> </p> <!> <!></div></div> <div class="ingredients-section"><h3 class="section-title">Ingredients</h3> <ul class="ingredients-list"></ul></div></div> <div class="instructions-section"><h3 class="section-title">Instructions</h3> <div class="instructions-content recipe-instructions"><!></div></div></div>'),Na=L('<button type="button" class="meal-card"><div class="meal-card-image-container meal-card-image-wrap"><img class="meal-card-image"/></div> <div class="meal-card-content meal-card-text-container"><h3 class="meal-card-title"> </h3> <p class="meal-card-cuisine text-white"> </p></div></button>'),Da=L('<div class="back-button-bar" style="padding-bottom: 20px;"><button class="back-button"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-4 h-4 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path></svg> Go Back to Search</button></div> <div class="meal-list-grid"></div>',1),Sa=L('<!> <div class="layout-container layout-padding-sm"><header class="text-center py-6"><h1 class="header-title"> </h1> <p class="header-subtitle">Find ingredients and instructions for any meal.</p></header> <!></div>',1);function Ga(a,e){ua(e,!1);let t=ee([]),m=ee(!1),g=ee(null),o=ee("");ze(async()=>{const h=new URLSearchParams(window.location.search);if(O(o,h.get("q")?.trim()??""),!n(o)){O(g,"No search query provided.");return}O(m,!0);try{O(t,await ya(n(o))),(!n(t)||n(t).length===0)&&O(g,`We couldn't find any recipes for "${n(o)}".`)}catch(_){console.error(_),O(g,"A connection error occurred. Please try again later.")}finally{O(m,!1)}});let r=ee(null);function s(h){O(r,h),window.scrollTo({top:0,behavior:"smooth"})}function c(){O(r,null)}function d(){window.history.back()}function i(h){const _=[];for(let M=1;M<=20;M++){const I=h[`strIngredient${M}`],N=h[`strMeasure${M}`];I&&I.trim()!==""&&_.push({name:I.trim(),measure:N?.trim()??""})}return _}Ge();var u=Sa();_a("1443t8w",h=>{var _=Ma();p(te(_)),E(h,_)});var b=te(u);ma(b,{});var x=p(b,2),l=f(x),T=f(l),W=f(T);v(T),pa(2),v(l);var w=p(l,2);{var y=h=>{var _=Ta();E(h,_)},q=h=>{var _=Ce(),M=te(_);{var I=D=>{var R=Ea(),k=p(f(R),2),Q=f(k,!0);v(k),v(R),Y(()=>H(Q,n(g))),E(D,R)},N=D=>{var R=Ce(),k=te(R);{var Q=P=>{var B=Ia(),V=f(B),de=f(V);v(V);var X=p(V,2),J=f(X),$=p(J,4),K=f($,!0);v($),v(X);var F=p(X,2),G=f(F),re=p(f(G),2),z=f(re),fe=p(f(z));v(z);var Z=p(z,2),ue=p(f(Z));v(Z);var oe=p(Z,2);{var ce=A=>{var C=Ra();Y(()=>j(C,"href",n(r).strSource)),E(A,C)};se(oe,A=>{n(r).strSource&&A(ce)})}var Be=p(oe,2);{var $e=A=>{var C=Aa();Y(()=>j(C,"href",n(r).strYoutube)),E(A,C)};se(Be,A=>{n(r).strYoutube&&A($e)})}v(re),v(G);var xe=p(G,2),ke=p(f(xe),2);Se(ke,5,()=>i(n(r)),De,(A,C)=>{var he=Ca(),Te=p(f(he),2),Ee=f(Te),Re=p(Ee),Ue=f(Re,!0);v(Re),v(Te),v(he),Y(()=>{H(Ee,`${n(C).measure??""} `),H(Ue,n(C).name)}),E(A,he)}),v(ke),v(xe),v(F);var ye=p(F,2),Me=p(f(ye),2),Ye=f(Me);xa(Ye,()=>n(r).strInstructions?.replace(/\r\n/g,"<br>")??'<p class="no-instructions">No instructions available.</p>'),v(Me),v(ye),v(B),Y(()=>{j(J,"src",n(r).strMealThumb),j(J,"alt",n(r).strMeal),H(K,n(r).strMeal),H(fe,` ${n(r).strCategory??"N/A"??""}`),H(ue,` ${n(r).strArea??"N/A"??""}`)}),ie("click",de,c),ie("error",J,A=>{const C=A.currentTarget;C.onerror=null,C.src="https://placehold.co/400x225/e7e5e4/44403c?text=Recipe+Preview"}),E(P,B)},le=P=>{var B=Da(),V=te(B),de=f(V);v(V);var X=p(V,2);Se(X,5,()=>n(t),De,(J,$)=>{var K=Na(),F=f(K),G=f(F);v(F);var re=p(F,2),z=f(re),fe=f(z,!0);v(z);var Z=p(z,2),ue=f(Z);v(Z),v(re),v(K),Y(()=>{j(G,"src",n($).strMealThumb??"https://placehold.co/400x225/e7e5e4/44403c?text=Recipe+Preview"),j(G,"alt",n($).strMeal),H(fe,n($).strMeal),H(ue,`${n($).strArea??"Global"??""} Cuisine`)}),ie("error",G,oe=>{const ce=oe.currentTarget;ce.onerror=null,ce.src="https://placehold.co/400x225/e7e5e4/44403c?text=Recipe+Preview"}),ie("click",K,()=>s(n($))),E(J,K)}),v(X),ie("click",de,d),E(P,B)};se(k,P=>{n(r)?P(Q):P(le,!1)},!0)}E(D,R)};se(M,D=>{n(g)?D(I):D(N,!1)},!0)}E(h,_)};se(w,h=>{n(m)?h(y):h(q,!1)})}v(x),Y(()=>H(W,`${n(o)??""}! ....Mmmh what a nice choice`)),E(a,u),ha()}export{Ga as component};
