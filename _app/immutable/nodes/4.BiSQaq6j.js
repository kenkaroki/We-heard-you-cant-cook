import{f as L,a as k,c as ge}from"../chunks/Dt4gHaz-.js";import{i as xe}from"../chunks/B7C2RDV6.js";import{o as ye}from"../chunks/BttVn3x6.js";import{P as Me,X as $,V as e,Q as ke,U as a,R as p,T as C,Y as o,a0 as Re,W as s,Z as z}from"../chunks/BKvKnRH6.js";import{s as h}from"../chunks/P7GjCC45.js";import{i as B}from"../chunks/huJ-UwZ7.js";import{r as Ee,s as l}from"../chunks/4MGsfVRe.js";import{e as c}from"../chunks/AP3DqHb2.js";import{b as we}from"../chunks/BXpv_vPh.js";import{g as G}from"../chunks/C3bLVjCM.js";import{N as Te}from"../chunks/KSzr2i13.js";import{b as ee}from"../chunks/BryTskaV.js";var Ce=L('<div class="loading-container"><div class="spinner"></div> <p class="loading-text">Loading delicious recipes...</p></div>'),Le=L('<div class="error-container"><p class="error-text"> </p> <button class="retry-button">Retry</button></div>'),Ae=L('<section class="recipies_feed"><div class="recipies_feed_container"><div id="main_recipie" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_one" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_two" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_three" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_four" role="button" tabindex="0"><img/> <h2> </h2></div> <div id="sub_recipie_five" role="button" tabindex="0"><img/> <h2> </h2></div></div></section>'),De=L('<!> <center><section class="search_recipies"><form class="search-form"><input type="search" name="search_bar" id="search_bar" placeholder="e.g., Lasagna, Pad Thai, Chocolate Cake..." required/> <button type="submit" id="search_button">Search</button></form></section></center> <!>',1);function Ie(A,re){Me(re,!1);const te="https://www.themealdb.com/api/json/v1/1/random.php",D="dashboard_random_recipes",ae=1800*1e3;let r=C([]),R=C(!0),E=C(null),w=C("");function se(t){const i={meals:t,timestamp:Date.now()};try{sessionStorage.setItem(D,JSON.stringify(i))}catch(f){console.error("Error saving to cache:",f)}}function ie(){try{const t=sessionStorage.getItem(D);if(!t)return null;const i=JSON.parse(t);return Date.now()-i.timestamp>ae?(sessionStorage.removeItem(D),null):i.meals}catch(t){return console.error("Error loading from cache:",t),null}}async function oe(){try{const t=await fetch(te);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json())?.meals?.[0]??null}catch(t){return console.error("Error fetching random meal:",t),null}}async function ce(t){const i=Array.from({length:t},()=>oe());return(await Promise.all(i)).filter(S=>S!==null)}ye(async()=>{const t=ie();if(t&&t.length>0){p(r,t),p(R,!1);return}p(R,!0);try{p(r,await ce(6)),e(r).length===0?p(E,"Unable to load recipes. Please try again later."):se(e(r))}catch(i){console.error(i),p(E,"A connection error occurred. Please refresh the page.")}finally{p(R,!1)}});function ne(t){t.preventDefault(),e(w).trim()&&G(`${ee}/recipes?q=${encodeURIComponent(e(w).trim())}`)}function n(t){G(`${ee}/recipes?q=${encodeURIComponent(t.strMeal)}`)}xe();var j=De(),J=$(j);Te(J,{});var I=o(J,2),Q=a(I),P=a(Q),Y=a(P);Ee(Y),Re(2),s(P),s(Q),s(I);var le=o(I,2);{var de=t=>{var i=Ce();k(t,i)},pe=t=>{var i=ge(),f=$(i);{var S=u=>{var v=Le(),_=a(v),m=a(_,!0);s(_);var b=o(_,2);s(v),z(()=>h(m,e(E))),c("click",b,()=>window.location.reload()),k(u,v)},ve=u=>{var v=Ae(),_=a(v),m=a(_),b=a(m),F=o(b,2),me=a(F,!0);s(F),s(m);var g=o(m,2),N=a(g),K=o(N,2),he=a(K,!0);s(K),s(g);var x=o(g,2),U=a(x),V=o(U,2),ue=a(V,!0);s(V),s(x);var y=o(x,2),O=a(y),W=o(O,2),_e=a(W,!0);s(W),s(y);var M=o(y,2),q=a(M),X=o(q,2),fe=a(X,!0);s(X),s(M);var T=o(M,2),H=a(T),Z=o(H,2),be=a(Z,!0);s(Z),s(T),s(_),s(v),z(()=>{l(b,"src",e(r)[0]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(b,"alt",e(r)[0]?.strMeal??"Recipe"),h(me,e(r)[0]?.strMeal??"Loading..."),l(N,"src",e(r)[1]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(N,"alt",e(r)[1]?.strMeal??"Recipe"),h(he,e(r)[1]?.strMeal??"Loading..."),l(U,"src",e(r)[2]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(U,"alt",e(r)[2]?.strMeal??"Recipe"),h(ue,e(r)[2]?.strMeal??"Loading..."),l(O,"src",e(r)[3]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(O,"alt",e(r)[3]?.strMeal??"Recipe"),h(_e,e(r)[3]?.strMeal??"Loading..."),l(q,"src",e(r)[4]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(q,"alt",e(r)[4]?.strMeal??"Recipe"),h(fe,e(r)[4]?.strMeal??"Loading..."),l(H,"src",e(r)[5]?.strMealThumb??"https://placehold.co/800x600/e7e5e4/44403c?text=Recipe"),l(H,"alt",e(r)[5]?.strMeal??"Recipe"),h(be,e(r)[5]?.strMeal??"Loading...")}),c("click",m,()=>n(e(r)[0])),c("keypress",m,d=>d.key==="Enter"&&n(e(r)[0])),c("click",g,()=>n(e(r)[1])),c("keypress",g,d=>d.key==="Enter"&&n(e(r)[1])),c("click",x,()=>n(e(r)[2])),c("keypress",x,d=>d.key==="Enter"&&n(e(r)[2])),c("click",y,()=>n(e(r)[3])),c("keypress",y,d=>d.key==="Enter"&&n(e(r)[3])),c("click",M,()=>n(e(r)[4])),c("keypress",M,d=>d.key==="Enter"&&n(e(r)[4])),c("click",T,()=>n(e(r)[5])),c("keypress",T,d=>d.key==="Enter"&&n(e(r)[5])),k(u,v)};B(f,u=>{e(E)?u(S):u(ve,!1)},!0)}k(t,i)};B(le,t=>{e(R)?t(de):t(pe,!1)})}we(Y,()=>e(w),t=>p(w,t)),c("submit",P,ne),k(A,j),ke()}function Ke(A){Ie(A,{})}export{Ke as component};
